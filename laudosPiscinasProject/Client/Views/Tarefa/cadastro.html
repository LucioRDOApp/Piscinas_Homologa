<section ng-controller="TarefaController as controller" ng-init="controller.carregarTelaCadastro();">

    <div class="panel-heading">
        <h3>Tarefa / Medição</h3>
    </div>

    <form id="form-cadastro-tarefa" class="">
        <div class="panel">
            <div class="col-md-8 col-sm-8">
                <div class="form-group">
                    <label class="control-label">Descrição<span style="color:red">*</span></label>
                    <input type="text" class="form-control txbDescricaoTarefa" autofocus ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" maxlength="600" ng-model="controller.cadastroParam.descricao">
                    <span class="material-input"></span>
                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="form-group">

                    <label class="control-label">Etapa<span style="color:red">*</span></label>
                    <div class="input-group">
                        <select class="form-control ddlStatus" ng-model="controller.cadastroParam.idEtapa" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" ng-options="e.id as e.titulo for e in controller.etapaList">
                            <option value="">Selecione...</option>
                        </select>
                        <div class="input-group-addon" ng-if="controller.verificarPermissaoAdicionarEtapa()">
                            <button class="btn btn-blue" ng-if="(!controller.desabilitarCampos) && (controller.cadastroParam.id <= 0 || controller.cadastroParam.id == null || controller.cadastroParam.id == undefined)" ng-click="controller.adicionaEtapa()" data-toggle="modal" data-target="#adicionar-etapa">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="form-group">
                    <label class="control-label">Data Inicial Planejada<span style="color:red">*</span></label>
                    <md-datepicker class="txbDataInicialPlanejada" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" ng-model="controller.cadastroParam.dataInicio" md-placeholder="__/__/____" md-hide-icons="calendar"></md-datepicker>
                    <span class="material-input"></span>
                </div>
            </div>

            <div class="col-md-4 col-sm-4">
                <div class="form-group">
                    <label class="control-label">Data Final Planejada<span style="color:red">*</span></label>
                    <md-datepicker class="txbDataFinalPlanejada" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" ng-model="controller.cadastroParam.dataPrevisaoFim" md-placeholder="__/__/____" md-hide-icons="calendar"></md-datepicker>
                    <span class="material-input"></span>
                </div>
            </div>
            <div class="col-md-4 col-sm-4" ng-if="controller.mostraDropStatusNaTarefa">
                <div class="form-group is-empty">
                    <label class="control-label">Status<span style="color:red">*</span></label>
                    <select class="form-control ddlStatus" ng-model="controller.cadastroParam.status" ng-disabled="controller.desabilitarCampos" ng-change="controller.limparPainelMedicao()" ng-options="st.id as st.nome for st in controller.statusTarefa"></select>
                </div>
            </div>
            <div class="{{controller.mostraDropStatusNaTarefa ? 'col-md-6' : 'col-md-4'}} col-sm-{{controller.mostraDropStatusNaTarefa ? 'col-md-6' : 'col-md-4'}}">
                <div class="form-group is-empty">
                    <label class="control-label">Unidade de Medida<!--<span style="color:red" ng-hide="controller.cadastroParam.status == 1">*</span>--></label>
                    <select class="form-control ddlUnidadeMedida" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" ng-model="controller.cadastroParam.idUnidade" ng-options="op.id as op.nome for op in controller.unidadeMedida"></select>
                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="form-group is-empty">
                    <label class="control-label">Quantidade Planejada<!--<span style="color:red" ng-hide="controller.cadastroParam.status == 1">*</span>--></label>
                    <input type="text" class="form-control currency" ng-model="controller.cadastroParam.qtdPlanejada" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" data-affixes-stay="true" data-prefix="" data-thousands="." data-decimal="," data-precision="2" maxlength="12" />
                </div>
            </div>
            <div class="col-md-4 col-sm-4">
                <div class="form-group is-empty">
                    <label class="control-label">Valor Unitário<!--<span style="color:red" ng-hide="controller.cadastroParam.status == 1">*</span>--></label>
                    <input type="text" class="form-control currency" ng-model="controller.cadastroParam.valor" ng-disabled="controller.desabilitarCampos || (controller.cadastroParam.id > 0 && controller.cadastroParam.status != 1)" data-affixes-stay="true" data-prefix="R$ " data-thousands="." data-decimal="," data-precision="2" maxlength="15" />
                </div>
            </div>

        </div>

        <div class="col-xs-12 no-padding header-table" ng-show="!controller.cadastroParam.novaMedicao && (controller.cadastroParam.status != 1 && controller.cadastroParam.status != '')">

            <h4>MEDIÇÃO</h4>


            <div class="pull-right">
                <button ng-show="controller.cadastroParam.id > 0" class="btn btn-blue btn-block-xs" data-toggle="modal" data-target="#historico-tarefa-detalhe" ng-click="controller.preencherModalHistoricoDetalhe()">
                    <i class="fa fa-clock-o"></i>
                    HISTÓRICO DE MEDIÇÕES
                </button>
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.adicionarMedicao()">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    ADICIONAR MEDIÇÃO
                </button>
            </div>
        </div>

        <div class="panel" ng-show="controller.cadastroParam.id > 0 || (controller.cadastroParam.status != 1 && controller.cadastroParam.status != '')">

            <div class="flex">

                <div class="col-md-12 col-sm-4" ng-if="!controller.mostraDropStatusNaTarefa">
                    <div class="form-group is-empty">
                        <label class="control-label">Status<span style="color:red">*</span></label>
                        <select class="form-control ddlStatus ng-pristine ng-untouched ng-valid" ng-change="controller.limparCamposMedicao();" ng-model="controller.cadastroParam.status" ng-disabled="controller.desabilitarCampos || controller.cadastroParam.rdoAssinado" ng-options="st.id as st.nome for st in controller.statusTarefa" aria-invalid="false"><option value="number:0" label="Selecione..." selected="selected">Selecione...</option><option value="number:1" label="Planejada">Planejada</option><option value="number:2" label="Em Execução">Em Execução</option></select>
                        <span class="material-input"></span>
                    </div>
                </div>
                <div class="col-md-12 col-sm-4">
                    <div class="form-group">
                        <label class="control-label">Data<span style="color:red">*</span></label>
                        <md-datepicker class="data-medicao" ng-disabled="controller.cadastroParam.rdoAssinado || controller.desabilitarCampos" ng-model="controller.cadastroParam.dataMedicaoTela" md-placeholder="__/__/____" md-hide-icons="calendar"></md-datepicker>
                        <span class="material-input"></span>
                    </div>
                </div>
                <div class="col-md-12 col-sm-4">
                    <div class="form-group">
                        <label class="control-label">Hora Inicial</label>
                        <input type="text" class="form-control" ng-disabled="controller.cadastroParam.rdoAssinado || controller.desabilitarCampos" model-view-value="true" ui-mask="99:99" ng-model="controller.cadastroParam.horaInicial">
                        <span class="material-input"></span>
                    </div>
                </div>
                <div class="col-md-12 col-sm-4">
                    <div class="form-group">
                        <label class="control-label">Hora Final</label>
                        <input type="text" class="form-control" ng-disabled="controller.cadastroParam.rdoAssinado || controller.desabilitarCampos" model-view-value="true" ui-mask="99:99" ng-model="controller.cadastroParam.horaFinal">
                        <span class="material-input"></span>
                    </div>
                </div>
            </div>
            <!--<div class="col-md-4 col-sm-4">
                <div class="form-group">
                    <label class="control-label">Quantidade de horas trabalhadas no dia</label>
                    <input type="text" class="form-control txbHorasTrabalhadas" ng-disabled="controller.desabilitarCampos" maxlength="11" ng-model="controller.cadastroParam.horasTrabalhadas" numeric-only>
                    <span class="material-input"></span>
                </div>
            </div>-->

            <div class="col-md-6 col-sm-4">
                <div class="form-group">
                    <label class="control-label">Quantidade Construída</label>
                    <input type="text" class="form-control txbQtdConstruida currency" ng-disabled="controller.cadastroParam.rdoAssinado || controller.desabilitarCampos || (controller.cadastroParam.status != 1 && controller.cadastroParam.status != 2 && controller.cadastroParam.status != 3)" ng-model="controller.cadastroParam.qtdConstruida" data-affixes-stay="true" data-prefix="" data-thousands="." data-decimal="," data-precision="2" maxlength="12">
                    <span class="material-input"></span>
                </div>
            </div>

            <div class="col-md-12 col-sm-12">
                <div class="form-group">
                    <label class="control-label">Comentário</label>
                    <textarea name="" class="form-control txbComentario" ng-disabled="controller.cadastroParam.rdoAssinado || controller.desabilitarCampos" maxlength="1400" rows="3" ng-model="controller.cadastroParam.comentario" />
                    <span class="material-input"></span>
                </div>
            </div>
            <div ng-hide="controller.cadastroParam.status == 1">
                <div class="no-padding col-xs-12">
                    <label class="col-xs-12 control-label">Foto</label>
                    <div class="col-md-6 col-sm-12 col-xs-12">

                        <div class="form-group">

                            <input type="file" ng-hide="controller.desabilitarCampos" accept=".png, .jpg, .jpeg, .bmp" ng-model="imageFile" base-sixty-four-input />

                            <label for="file" class="sr-only">{{imageFile.base64}}</label>

                            <div class="input-group col-xs-12" ng-hide="controller.desabilitarCampos">

                                <div class="col-lg-8 col-md-7 col-sm-7 col-xs-12 no-padding-left" ng-disabled="controller.desabilitarCampos || controller.cadastroParam.status == 1">

                                    <input type="text" id="imgFileText" name="filename" class="form-control" placeholder="Nenhum arquivo selecionado (Tamanho Máx 2mb)" readonly>
                                    <i class="fa fa-picture-o" aria-hidden="true"></i>
                                </div>

                                <div class="col-lg-4 col-md-5 col-sm-5 col-xs-12 no-padding">
                                    <div class="btn btn-blue">

                                        ESCOLHER ARQUIVO
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-3 col-sm-12 col-xs-12">
                        <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.adicionarImagem()">
                            <i class="fa fa-picture-o" aria-hidden="true"></i>
                            ADICIONAR FOTO
                        </button>
                    </div>

                </div>
                <div class="clearfix"></div>
                <div class="col-md-12">
                    <section class="galeria delete slider" ng-hide="controller.desabilitarCampos">
                        <a ng-click="controller.removerImagem(imagem, $index)" ng-repeat="imagem in controller.listaImagens track by $index">
                            <img ng-src='{{controller.getImage(imagem)}}' />
                        </a>
                    </section>
                    <section class="galeria slider" ng-hide="!controller.desabilitarCampos">
                        <a ng-click="" ng-repeat="imagem in controller.listaImagens track by $index">
                            <img ng-src='{{controller.getImage(imagem)}}' />
                        </a>
                    </section>
                </div>
            </div>

        </div>

    </form>

    <div class="lista-tarefas">

        <div class="col-xs-12 no-padding header-table">

            <h4>COLABORADORES</h4>


            <div class="pull-right">
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-disabled="controller.desabilitarSalvar" ng-click="controller.salvar()">
                    <i class="fa fa-save"></i>
                    SALVAR TAREFA
                </button>
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.associarColaboradores()" data-toggle="modal" data-target="#adicionar-colaborador">
                    <i class="icon-obras" aria-hidden="true"></i>
                    ADICIONAR COLABORADOR
                </button>
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.novoColaborador()" data-toggle="modal" data-target="#novo-colaborador">
                    <i class="fa fa-user-plus" aria-hidden="true"></i>
                    NOVO COLABORADOR
                </button>
            </div>
        </div>

        <div class="tabela table-responsive">
            <table class="table  table-striped table-responsive">

                <thead>
                    <tr>
                        <th>
                            Nome
                        </th>
                        <th>
                            Cargo
                        </th>
                        <th class="fadeout-xs">
                            Telefone
                        </th>
                        <th class="fadeout-xs">
                            E-mail
                        </th>
                        <th class="fadeout-xs">
                            Perfil
                        </th>
                        <th colspan="2" scope="col">
                            AÇÕES
                        </th>

                    </tr>
                </thead>
                <tbody ng-hide="controller.cadastroParam.listaColaboradores.length > 0" class="">
                    <tr>
                        <td colspan="6">Nenhum registro encontrado.</td>
                    </tr>
                </tbody>
                <tbody ng-repeat="colaborador in controller.cadastroParam.listaColaboradores">
                    <tr>
                        <td>
                            {{ colaborador.nome == '' || colaborador.nome == undefined ? '-' : colaborador.nome }}
                        </td>
                        <td>
                            {{ colaborador.descricaoCargo == '' || colaborador.descricaoCargo == undefined ? '-' : colaborador.descricaoCargo }}
                        </td>
                        <td class="fadeout-xs">
                            {{ colaborador.telefonePrincipal == '' || colaborador.telefonePrincipal == undefined ? '-' : colaborador.telefonePrincipal }}
                        </td>
                        <td class="fadeout-xs">
                            {{ colaborador.email == '' || colaborador.email == undefined ? '-' : colaborador.email }}
                        </td>
                        <td class="fadeout-xs">
                            {{ colaborador.descricaoGrupo == '' || colaborador.descricaoGrupo == undefined ? '-' : colaborador.descricaoGrupo }}
                        </td>

                        <!--<td class="fadeout-xs">
                            <a class="btn btn-simple btn-just-icon" data-toggle="modal" data-target="#novo-colaborador" permission="visualizarRegistro" ng-click="controller.preencherModalColaborador(colaborador)">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                        </td>-->
                        <td class="fadeout-xs">
                            <a class="btn btn-simple btn-just-icon" data-toggle="modal" data-target="#novo-colaborador" ng-hide="controller.desabilitarCampos" title="Editar" ng-click="controller.carregarEdicaoColaborador(colaborador)">
                                <i class="fa fa-edit" aria-hidden="true"></i>
                            </a>
                        </td>
                        <td>
                            <a class="btn btn-simple btn-just-icon" ng-hide="controller.desabilitarCampos" ng-click="controller.removerObraTarefaColaborador(colaborador, $index)">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                            </a>
                        </td>
                    </tr>

                </tbody>

            </table>
        </div>

        <div class="col-xs-12 no-padding header-table">

            <h4>EQUIPAMENTOS</h4>


            <div class="pull-right">
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-disabled="controller.desabilitarSalvar" ng-click="controller.salvar()">
                    <i class="fa fa-save"></i>
                    SALVAR TAREFA
                </button>
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.associarEquipamentos()" data-toggle="modal" data-target="#adicionar-equipamento">
                    <i class="icon-trator" aria-hidden="true"></i>
                    ADICIONAR EQUIPAMENTOS
                </button>
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.novoEquipamento()" data-toggle="modal" data-target="#novo-equipamento">
                    <i class="icon-trator-plus" aria-hidden="true"></i>
                    NOVO EQUIPAMENTO
                </button>
            </div>
        </div>

        <div class="tabela table-responsive">
            <table class="table  table-striped table-responsive">

                <thead>
                    <tr>
                        <th>
                            Tipo de Equipamento
                        </th>
                        <th>
                            Descrição
                        </th>
                        <th class="fadeout-xs">
                            Tipo de Aquisição
                        </th>
                        <th class="fadeout-xs">
                            Fabricante/Fornecedor
                        </th>
                        <th class="fadeout-xs">
                            Contato
                        </th>
                        <th class="fadeout-xs">
                            Telefone
                        </th>
                        <th colspan="2" scope="col">
                            ações
                        </th>

                    </tr>
                </thead>
                <tbody ng-hide="controller.cadastroParam.listaEquipamentos.length > 0" class="">
                    <tr>
                        <td colspan="7">Nenhum registro encontrado.</td>
                    </tr>
                </tbody>
                <tbody ng-repeat="equipamento in controller.cadastroParam.listaEquipamentos track by $index">
                    <tr>
                        <td>
                            {{equipamento.tipoEquipamento == '' || equipamento.tipoEquipamento == undefined ? '-' : equipamento.tipoEquipamento }}
                        </td>
                        <td>
                            {{equipamento.descricao == '' || equipamento.descricao == undefined ? '-' : equipamento.descricao }}
                        </td>
                        <td class="fadeout-xs">
                            {{ equipamento.tipoAquisicao == 'C' ? "Compra" : equipamento.tipoAquisicao == 'A' ? "Aluguel" : "-" }}
                        </td>
                        <td class="fadeout-xs">
                            {{equipamento.fabricanteFornecedor == '' || equipamento.fabricanteFornecedor == undefined ? '-' : equipamento.fabricanteFornecedor }}
                        </td>
                        <td class="fadeout-xs">
                            {{equipamento.contato == '' || equipamento.contato == undefined ? '-' : equipamento.contato}}
                        </td>
                        <td class="fadeout-xs">
                            {{controller.maskPhone(equipamento.telefone) == '' || controller.maskPhone(equipamento.telefone) == undefined ? '-' : controller.maskPhone(equipamento.telefone)}}
                        </td>
                        <td class="fadeout-xs">
                            <a class="btn btn-simple btn-just-icon" data-toggle="modal" data-target="#novo-equipamento" permission="visualizarRegistro" ng-click="controller.preencherModalEquipamento(equipamento)">
                                <i class="fa fa-eye" aria-hidden="true"></i>

                            </a>
                        </td>
                        <td>
                            <a class="btn btn-simple btn-just-icon" ng-hide="controller.desabilitarCampos" ng-click="controller.removerObraTarefaEquipamento(equipamento, $index)">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>

                            </a>
                        </td>
                    </tr>
                </tbody>

            </table>
        </div>

        <div class="col-xs-12 no-padding header-table">

            <h4 ng-hide="controller.cadastroParam.status == 1">ACIDENTES</h4>


            <div class="pull-right" ng-hide="controller.cadastroParam.status == 1">
                <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-click="controller.novoAcidente()" data-toggle="modal" data-target="#novo-acidente">
                    <i class="icon-accident" aria-hidden="true"></i>
                    NOVO ACIDENTE
                </button>
            </div>
        </div>

        <div class="tabela table-responsive" ng-hide="controller.cadastroParam.status == 1">
            <table class="table  table-striped table-responsive">

                <thead>
                    <tr>
                        <th>
                            Descrição
                        </th>
                        <th class="fadeout-xs">
                            Data/Hora do Acidente
                        </th>
                        <th class="fadeout-xs">
                            Houve Afastamento
                        </th>
                        <th colspan="2" scope="col">
                            Ações
                        </th>

                    </tr>
                </thead>
                <tbody ng-hide="controller.cadastroParam.listaAcidentes.length > 0" class="">
                    <tr>
                        <td colspan="6">Nenhum registro encontrado.</td>
                    </tr>
                </tbody>
                <tbody ng-repeat="acidente in controller.cadastroParam.listaAcidentes">
                    <tr>
                        <td>
                            {{acidente.descricao}}
                        </td>
                        <td class="fadeout-xs">
                            {{acidente.dataAcidente | date:'dd/MM/yyyy hh:mm'}}
                        </td>
                        <td class="fadeout-xs">
                            {{acidente.houveAfastamento == 's' ? 'Sim' : 'Não'}}
                        </td>
                        <td class="fadeout-xs">
                            <a class="btn btn-simple btn-just-icon" data-toggle="modal" data-target="#novo-acidente" permission="visualizarRegistro" ng-click="controller.preencherModalAcidente(acidente)">
                                <i class="fa fa-eye" aria-hidden="true"></i>

                            </a>
                        </td>
                        <td>
                            <a class="btn btn-simple btn-just-icon" ng-hide="controller.desabilitarCampos" ng-click="controller.removerAcidente(acidente, $index)">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                            </a>
                        </td>
                    </tr>
                </tbody>

            </table>
        </div>



    </div>


    <div class="modal fade" id="novo-colaborador">
        <form id="form-cadastro-colaborador">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            <i class="icon-close"></i>
                        </button>
                        <div class="panel-heading">
                            <h4>COLABORADOR</h4>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="col-md-8 col-sm-8">
                            <div class="form-group is-empty">
                                <label class="control-label">Perfil do Colaborador<span style="color:red">*</span></label>
                                <select class="form-control ddlPerfilColaborador" ng-change="controller.verificaPerfilColaborador()" ng-model="controller.cadastroParam.colaboradorObj.grupo" ng-disabled="controller.desabilitarCamposColaborador2" ng-options="opt.id as opt.nome for opt in controller.grupos"></select>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">CPF<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <input type="text" validate="minlength[14],maxlength[14]" ui-mask="999.999.999-99" maxlength="14" class="form-control txbCpfColaborador" ng-blur="controller.completarColaborador()" ng-disabled="controller.desabilitarCamposColaborador2 || controller.desabilitarCpf" ng-model="controller.cadastroParam.colaboradorObj.cpf">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="col-sm-12" ng-if="(!controller.nomeColaboradorModoEdicao && !controller.desabilitarCamposColaborador) || controller.desabilitarCpf">
                            <div class="form-group">
                                <label class="control-label">Nome<span style="color:red">*</span></label>
                                <input type="text" class="form-control" maxlength="50" ng-model="controller.cadastroParam.colaboradorObj.nome">
                                <span class="material-input"></span>
                                <!--<md-autocomplete class="form-control"
                                                 md-no-cache="true"
                                                 md-search-text="controller.buscaTextoColaborador"
                                                 md-search-text-change="controller.buscaTextoColaborador = controller.buscaTextoColaborador.substring(0,50)"
                                                 md-selected-item-change="controller.completarColaboradorPeloId(item);"
                                                 md-items="item in controller.buscarColaborador(controller.buscaTextoColaborador)"
                                                 md-item-text="item.nome"
                                                 md-min-length="0"
                                                 md-max-length="50"
                                                 ng-model="controller.cadastroParam.colaboradorObj.nome"
                                                 placeholder="Digite ou selecione o colaborador">
                                    <md-item-template>
                                        <span md-highlight-text="controller.buscaTextoColaborador" md-highlight-flags="^i">{{item.nome}}</span>
                                    </md-item-template>
                                </md-autocomplete>-->
                            </div>
                        </div>

                        <div class="col-md-6 col-sm-6" ng-if="(controller.desabilitarCamposColaborador && !controller.desabilitarCpf) || controller.nomeColaboradorModoEdicao">
                            <div class="form-group">
                                <label class="control-label">Nome<span style="color:red">*</span></label>
                                <input type="text" maxlength="50" class="form-control txbNomeColaborador" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.nome">
                                <span class="material-input"></span>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-4">
                            <div class="form-group is-empty">
                                <label class="control-label">Cargo<span style="color:red">*</span></label>
                                <select class="form-control txbCargoColaborador" ng-model="controller.cadastroParam.colaboradorObj.cargo" ng-disabled="controller.desabilitarCamposColaborador2" ng-options="car.id as car.nome for car in controller.cargos"></select>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group is-empty">
                                <label class="control-label">Sexo<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <select class="form-control ddlSexoColaborador" ng-model="controller.cadastroParam.colaboradorObj.sexo" ng-disabled="controller.desabilitarCamposColaborador" ng-options="sx.id as sx.nome for sx in controller.sexo"></select>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Data de Nascimento<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <input type="text" class="datepicker-here form-control dataNascimento" placeholder="dd/mm/aaaa" ng-disabled="controller.desabilitarCamposColaborador" data-language='pt-BR' value="" ng-model="controller.cadastroParam.colaboradorObj.dataNascimento">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Telefone Principal<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <input id="telefonePrincipal" data-inputmask-clearmaskonlostfocus="false" type="text" class="form-control txbTelefonePrincipalColaborador" maxlength="15" placeholder="" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.telefonePrincipal">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Telefone Secundário</label>
                                <input id="telefoneSecundario" data-inputmask-clearmaskonlostfocus="false" type="text" class="form-control txbTelefoneSecundarioColaborador" maxlength="15" placeholder="" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.telefoneSecundario">
                                <span class="material-input"></span>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">E-mail<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <input type="text" class="form-control txbEmailColaborador" maxlength="50" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.email">
                                <span class="material-input"></span>
                            </div>
                        </div>



                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">CREA</label>
                                <input type="text" class="form-control txbCreaColaborador" ng-disabled="controller.desabilitarCamposColaborador" maxlength="20" ng-model="controller.cadastroParam.colaboradorObj.crea">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Data da Contratação</label>
                                <input type="text" class="datepicker-here form-control dataContratacao" ng-disabled="controller.desabilitarCamposColaborador2" placeholder="dd/mm/aaaa" data-language='pt-BR' value="" ng-model="controller.cadastroParam.colaboradorObj.dataContratacao">
                                <span class="material-input"></span>
                            </div>
                        </div>
                        <div class="col-md-8 col-sm-8">
                            <div class="form-group">
                                <label class="control-label">Logradouro<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <input type="text" class="form-control txbLogradouroColaborador" maxlength="50" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.logradouro">
                                <span class="material-input"></span>
                            </div>
                        </div>



                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Número</label>
                                <input type="text" class="form-control txbNumeroEnderecoColaborador" maxlength="5" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.numeroEndereco">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="clearfix"></div>

                        <div class="col-md-8 col-sm-8 ">
                            <div class="form-group">
                                <label class="control-label">Complemento</label>
                                <input type="text" class="form-control txbComplementoColaborador" maxlength="50" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.complemento">
                                <span class="material-input"></span>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Bairro</label>
                                <input type="text" class="form-control txbBairroColaborador" maxlength="50" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.bairro">
                                <span class="material-input"></span>
                            </div>
                        </div>


                        <div class="col-md-4 col-sm-4">
                            <div class="form-group is-empty">
                                <label class="control-label">UF<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <select class="form-control ddluf" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.uf" ng-change="controller.carregaListaMunicipio('cadastro')" ng-options="opt.idUF as opt.uf for opt in controller.ufsColaborador"></select>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group is-empty">
                                <label class="control-label">Município<span ng-hide="controller.perfilColaborador" style="color:red">*</span></label>
                                <select class="form-control ddlmunicipio" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.idMunicipio" ng-options="mun.idMunicipio as mun.municipio for mun in controller.municipiosColaborador"></select>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-4">
                            <div class="form-group">
                                <label class="control-label">CEP</label>
                                <input type="text" class="form-control txbCepColaborador" ui-mask="99999-999" maxlength="9" ng-disabled="controller.desabilitarCamposColaborador" placeholder="" ng-model="controller.cadastroParam.colaboradorObj.cep">
                                <span class="material-input"></span>
                            </div>
                        </div>




                        <div ng-hide="controller.perfilColaborador">
                            <div class="col-md-6 col-sm-6">
                                <div class="form-group">
                                    <label class="control-label">Senha<span style="color:red">*</span></label>
                                    <input type="password" class="form-control txbSenhaColaborador" maxlength="20" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.senha">
                                    <span class="material-input"></span>
                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6">
                                <div class="form-group">
                                    <label class="control-label">Confirmação Senha<span style="color:red">*</span></label>
                                    <input type="password" class="form-control txbSenhaColaborador" maxlength="20" ng-disabled="controller.desabilitarCamposColaborador" ng-model="controller.cadastroParam.colaboradorObj.confirmacaoSenha">
                                    <span class="material-input"></span>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="modal-footer">
                        <div class="col-xs-12">
                            <button type="button" class="btn btn-simple" data-dismiss="modal">
                                <i class="icon-close" aria-hidden="true" ng-click="controller.limparModalColaborador()"></i>
                                Cancelar
                            </button>
                            <button type="button" class="btn btn-default btn-simple" ng-disabled="controller.desabilitarCamposColaborador2" ng-click="controller.adicionarColaborador()">
                                <i class="icon-check" aria-hidden="true"></i>
                                Adicionar
                            </button>
                        </div>


                    </div>
                </div>
            </div>
        </form>
    </div>


    <form class="modal fade" id="novo-equipamento">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>Equipamento</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="col-md-6 col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Tipo de Equipamento<span style="color:red">*</span></label>
                            <select class="form-control" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.idTipoEquipamento" ng-options="t.id as t.nome for t in controller.tiposEquipamentos">
                                <option value="">Selecione...</option>
                            </select>
                            <span class="material-input"></span>
                        </div>
                    </div>
                    <div class="col-md-6 col-sm-12">
                        <div class="form-group">
                            <label class="control-label">Descrição<span style="color:red">*</span></label>
                            <input type="text" class="form-control" maxlength="50" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.descricao">
                            <span class="material-input"></span>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Marca</label>
                            <input type="text" maxlength="50" class="form-control txbNomeColaborador" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.marca">
                            <!--<select class="form-control" maxlength="50" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.marca" ng-options="tp.id as tp.nome for tp in controller.marcas">
                                <option value="">Selecione...</option>
                            </select>-->
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Modelo</label>
                            <input type="text" maxlength="50" class="form-control txbNomeColaborador" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.modelo">
                            <!--<select class="form-control" maxlength="50" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.modelo" ng-options="tp.id as tp.nome for tp in controller.modelos">
                                <option value="">Selecione...</option>
                            </select>-->
                        </div>
                    </div>


                    <div class="col-md-4 col-sm-4">
                        <div class="form-group is-empty">
                            <label class="control-label">Tipo de Aquisição</label>
                            <select class="form-control" ng-disabled="controller.habilitarCamposEquipamento" ng-model="controller.cadastroParam.equipamentoObj.tipoAquisicao" ng-options="tp.id as tp.nome for tp in controller.tipoAquisicao">
                                <option value="">Selecione...</option>
                            </select>
                        </div>

                    </div>


                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Data da Aquisição</label>
                            <input type="text" ng-disabled="controller.habilitarCamposEquipamento" ui-mask="99/99/9999" model-view-value="true" class="datepicker-here form-control dataAquisicao" data-language='pt-BR' value="" ng-model="controller.cadastroParam.equipamentoObj.dataAquisicao">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Fornecedor/Fabricante</label>
                            <input type="text" ng-disabled="controller.habilitarCamposEquipamento" maxlength="50" class="form-control" ng-model="controller.cadastroParam.equipamentoObj.fabricanteFornecedor">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Contato</label>
                            <input type="text" ng-disabled="controller.habilitarCamposEquipamento" maxlength="50" class="form-control" ng-model="controller.cadastroParam.equipamentoObj.contato">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Telefone</label>
                            <input type="text" id="telefone" data-inputmask-clearmaskonlostfocus="false" ng-disabled="controller.habilitarCamposEquipamento" maxlength="15" class="form-control" ng-model="controller.cadastroParam.equipamentoObj.telefone">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <!--<div class="col-md-6 col-sm-12 col-xs-12">

                        <div class="form-group">

                            <input type="file" maxlength="2097152" name="file" onchange="angular.element(this).scope().uploadFile(this.files)" />

                            <label for="file" class="sr-only">File</label>

                            <div class="input-group col-xs-12">
                                <label class="col-xs-12 control-label">File</label>
                                <div class="col-lg-8 col-md-7 col-sm-7 col-xs-12 no-padding-left">


                                    <input type="text" name="filename" class="form-control" placeholder="No file selected" readonly>
                                    <i class="fa fa-picture-o" aria-hidden="true"></i>
                                </div>

                                <div class="col-lg-4 col-md-5 col-sm-5 col-xs-12 no-padding">
                                    <div class="btn btn-blue">

                                        ESCOLHER ARQUIVO
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>-->


                </div>

                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal" ng-click="controller.limparModalEquipamento()">
                            <i class="icon-close" aria-hidden="true"></i>
                            Cancelar
                        </button>
                        <button type="button" class="btn btn-default btn-simple" ng-disabled="controller.habilitarCamposEquipamento" ng-click="controller.adicionarEquipamento()">
                            <i class="icon-check" aria-hidden="true"></i>
                            Adicionar
                        </button>
                    </div>


                </div>
            </div>
        </div>
    </form>

    <form class="modal fade" id="novo-acidente">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>Acidente</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="col-md-8 col-sm-8">
                        <div class="form-group">
                            <label class="control-label">Descrição<span style="color:red">*</span></label>
                            <input type="text" class="form-control" maxlength="50" ng-disabled="controller.habilitarCamposAcidente" ng-model="controller.acidenteObj.descricao">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-4">
                        <div class="form-group">
                            <label class="control-label">Data/Hora do Acidente<span style="color:red">*</span></label>
                            <input type="text" class="datepicker-hour-here form-control dataAcidente" validate="minlength[16],maxlength[16]" ui-mask="99/99/9999 99:99" model-view-value="true" data-language='pt-BR' ng-disabled="controller.habilitarCamposAcidente" value="" ng-model="controller.acidenteObj.dataAcidenteTela">
                            <span class="material-input"></span>
                        </div>
                    </div>

                    <div class="col-md-6 col-sm-6">
                        <div class="form-group is-empty">
                            <label class="control-label">Colaboradores Envolvidos</label>
                            <select class="form-control" ng-model="controller.colaboradorAcidenteObj" ng-disabled="controller.habilitarCamposAcidente" ng-options="col as col.nome for col in controller.listaColaboradoresAcidente"></select>
                        </div>
                    </div>



                    <div class="col-xs-12 col-md-3 col-sm-3">
                        <label class="control-label">Houve Afastamento</label>
                        <div class="form-group">
                            <div class="radio-inline no-padding">
                                <div class="radio">
                                    <label>
                                        <input type="radio" name="optionsRadios" checked="checked" ng-disabled="controller.habilitarCamposAcidente" validate="required" maxlength="50" ng-value="'s'" ng-model="controller.colaboradorAcidenteObj.houveAfastamento">
                                        Sim
                                    </label>

                                </div>
                            </div>
                            <div class="radio-inline no-padding">
                                <div class="radio">
                                    <label>
                                        <input type="radio" name="optionsRadios" checked="" ng-disabled="controller.habilitarCamposAcidente" ng-value="'n'" ng-model="controller.colaboradorAcidenteObj.houveAfastamento">
                                        Não
                                    </label>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-3 col-sm-3 no-label">
                        <button class="btn btn-blue btn-block" ng-disabled="controller.habilitarCamposAcidente" ng-click="controller.adicionarColaboradorAcidente()">
                            <i class="fa fa-plus"></i>
                            ADICIONAR
                        </button>
                    </div>

                    <div class="clearfix"></div>

                    <h4>Colaboradores Envolvidos</h4>

                    <div class="tabela table-responsive">
                        <table class="table  table-striped table-responsive">

                            <thead>
                                <tr>
                                    <th>
                                        Nome
                                    </th>
                                    <th class="fadeout-xs">
                                        Cargo
                                    </th>
                                    <th class="fadeout-xs">
                                        E-mail
                                    </th>
                                    <th class="fadeout-xs">
                                        Telefone
                                    </th>
                                    <th class="fadeout-xs">
                                        Houve Afastamento
                                    </th>
                                    <th colspan="2" scope="col">
                                        Ações
                                    </th>

                                </tr>
                            </thead>
                            <label ng-hide="controller.acidenteObj.listaAcidenteColaboradores.length > 0" class="col-xs-12 no-padding" style="text-align:center;top: 84px;">Nenhum registro encontrado.</label>
                            <tbody ng-repeat="colaborador in controller.acidenteObj.listaAcidenteColaboradores">
                                <tr>
                                    <td>
                                        {{colaborador.nome}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{colaborador.descricaoCargo}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{colaborador.email}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{colaborador.telefonePrincipal}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{colaborador.houveAfastamento == 's' ? 'Sim' : 'Não'}}
                                    </td>
                                    <td>
                                        <a class="btn btn-simple btn-just-icon" ng-hide="controller.habilitarCamposAcidente" ng-click="controller.removerColaboradorAcidente(colaborador, $index)">
                                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal" ng-click="controller.limparModalAcidente()">
                            <i class="icon-close" aria-hidden="true"></i>
                            Cancelar
                        </button>
                        <button type="button" ng-disabled="controller.habilitarCamposAcidente" class="btn btn-default btn-simple" ng-click="controller.adicionarAcidente()">
                            <i class="icon-check" aria-hidden="true"></i>
                            Adicionar
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </form>


    <div class="modal fade" id="adicionar-colaborador">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>ADICIONAR COLABORADOR</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="tabela table-responsive">
                        <table class="table table-striped table-responsive">
                            <thead>
                                <tr>
                                    <th width="2%">
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" ng-model="controller.selecionaColaboradores" ng-change="controller.selecionarTodosColaboradores()">
                                            </label>
                                        </div>
                                    </th>
                                    <th>
                                        Nome
                                    </th>
                                    <th class="fadeout-xs">
                                        Cargo
                                    </th>
                                    <th class="fadeout-xs">
                                        Telefone
                                    </th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="colaborador in controller.colaboradoresObra">
                                <tr>
                                    <td width="2%">

                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" ng-model="colaborador.marcado">
                                            </label>
                                        </div>

                                    </td>
                                    <td>
                                        {{colaborador.nome}}
                                    </td>

                                    <td class="fadeout-xs">
                                        {{colaborador.descricaoCargo}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{colaborador.telefonePrincipal}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <label ng-hide="controller.colaboradoresObra.length > 0" class="col-xs-12 no-padding cabecaClass" style="text-align:center;top: 84px;">Nenhum registro encontrado.</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal">
                            <i class="icon-close" aria-hidden="true"></i>
                            Cancelar
                        </button>
                        <button type="button" class="btn btn-default btn-simple" data-dismiss="modal" ng-click="controller.recarregarColaboradores()">
                            <i class="icon-check" aria-hidden="true"></i>
                            Adicionar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="adicionar-equipamento">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>ADICIONAR EQUIPAMENTO</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="tabela table-responsive">


                        <table class="table table-striped table-responsive">

                            <thead>
                                <tr>
                                    <th width="2%">

                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" ng-model="controller.selecionaEquipamentos" ng-change="controller.selecionaTodosEquipametos()">
                                            </label>
                                        </div>

                                    </th>
                                    <th>
                                        Tipo de Equipamento
                                    </th>
                                    <th>
                                        Descrição
                                    </th>

                                    <th class="fadeout-xs">
                                        Marca
                                    </th>
                                    <th class="fadeout-xs">
                                        Modelo
                                    </th>

                                </tr>
                            </thead>
                            <label ng-hide="controller.equipamentosObra.length > 0" class="col-xs-12 no-padding" style="text-align:center;top: 84px;">Nenhum registro encontrado.</label>
                            <tbody>
                                <tr ng-repeat="equipamento in controller.equipamentosObra">
                                    <td width="2%">

                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" ng-model="equipamento.marcado">
                                            </label>
                                        </div>

                                    </td>
                                    <td>
                                        {{equipamento.tipoEquipamento}}
                                    </td>
                                    <td>
                                        {{equipamento.descricao}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{equipamento.marca}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{equipamento.modelo}}
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal">
                            <i class="icon-close" aria-hidden="true"></i>
                            Cancelar
                        </button>
                        <button type="button" class="btn btn-default btn-simple" data-dismiss="modal" ng-click="controller.recarregarEquipamentos()">
                            <i class="icon-check" aria-hidden="true"></i>
                            Adicionar
                        </button>
                    </div>


                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-xs-12">
        <div class="pull-right">
            <button class="btn btn-blue btn-block-xs" onclick="window.history.back()">
                <i class="fa fa-arrow-left"></i>
                VOLTAR
            </button>
            <button class="btn btn-blue btn-block-xs" ng-hide="controller.desabilitarCampos" ng-disabled="controller.desabilitarSalvar" ng-click="controller.salvar()">
                <i class="fa fa-save"></i>
                SALVAR TAREFA
            </button>
        </div>
    </div>

    <div class="modal fade" id="historico-tarefa-detalhe">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>Medições</h4>
                    </div>
                </div>
                <div class="modal-body" style="margin-top: -32px;">
                    <h4>
                        {{controller.objTarefaHistorico.descricao}}
                    </h4>
                    <div class="tabela table-responsive">
                        <table class="table  table-striped table-responsive">

                            <thead>
                                <tr>
                                    <th>
                                        Data
                                    </th>
                                    <th>
                                        Hora Inicial
                                    </th>
                                    <th>
                                        Hora Final
                                    </th>
                                    <th>
                                        Status
                                    </th>
                                    <th>
                                        Qtd. Contruída
                                    </th>
                                    <th>
                                        Unidade
                                    </th>
                                    <th>
                                        Usuário
                                    </th>
                                    <th colspan="2">

                                    <th>

                                </tr>
                            </thead>
                            <tbody ng-repeat="historico in controller.objTarefaHistorico.listaHistoricoTarefa">
                                <tr>
                                    <td>
                                        {{historico.dataStatus | date:'dd/MM/yyyy'}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.horaInicial | limitTo: 5}} <p ng-if="historico.horaInicial == '' || historico.horaInicial == null">-</p>
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.horaFinal | limitTo: 5}} <p ng-if="historico.horaFinal == '' || historico.horaFinal == null">-</p>
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.descricaoStatusTarefa}} <p ng-if="historico.descricaoStatusTarefa == '' || historico.descricaoStatusTarefa == null">-</p>
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.qtdConstruida}}
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.unidadeMedida}} <p ng-if="historico.unidadeMedida == '' || historico.unidadeMedida == null">-</p>
                                    </td>
                                    <td class="fadeout-xs">
                                        {{historico.nomeColaborador}} <p ng-if="historico.nomeColaborador == '' || historico.nomeColaborador == null">-</p>
                                    </td>
                                    <td>
                                        <button class="btn btn-simple btn-just-icon" title="Visualizar Tarefa" ng-click="controller.visualizar(historico)">
                                            <i class="fa fa-eye" aria-hidden="true"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button ng-if="!historico.rdoAssinado" class="btn btn-simple btn-just-icon" ng-disabled="controller.desabilitarSalvar" ng-click="controller.editar(historico)" permission="editar" title="Editar Tarefa">
                                            <i class="fa fa-edit" aria-hidden="true"></i>
                                        </button>
                                    </td>


                                </tr>
                                <!--<tr>
                                    <td class="ng-binding">
                                        08/03/2018
                                    </td>

                                    <td>
                                        09:01
                                    </td>
                                    <td>
                                        10:00
                                    </td>
                                    <td class="fadeout-xs ng-binding">
                                        Pausada
                                    </td>
                                    <td>
                                        0
                                    </td>
                                    <td>
                                        0m²
                                    </td>
                                    <td>
                                        Maria Fernanda
                                    </td>
                                    <td>
                                        <button class="btn btn-simple btn-just-icon" title="Editar">
                                            <i class="fa fa-edit" aria-hidden="true"></i>
                                        </button>
                                    </td>
                                    <td>
                                        <button class="btn btn-simple btn-just-icon" title="Editar">
                                            <i class="fa fa-eye" aria-hidden="true"></i>
                                        </button>
                                    </td>


                                </tr>-->

                            </tbody>

                        </table>
                    </div>
                </div>
                <label ng-hide="controller.objTarefaHistorico.listaHistoricoTarefa.length > 0" class="col-xs-12 no-padding" style="text-align:center;">Nenhum registro encontrado.</label>
                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal">
                            <i class="icon-close" aria-hidden="true"></i>
                            Cancelar
                        </button>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="adicionar-etapa">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="icon-close"></i>
                    </button>
                    <div class="panel-heading">
                        <h4>ADICIONAR ETAPA</h4>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="col-lg-10 col-md-8 col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Nome<span style="color:red">*</span></label>
                            <input type="text" class="form-control" ng-model="controller.objEtapa.Titulo">
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-4 col-sm-6">
                        <div class="form-group">
                            <label class="control-label">Nº Ordem<span style="color:red">*</span></label>
                            <input type="text" class="form-control" maxlength="5" ng-model="controller.objEtapa.Ordem" numeric-only>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <div class="col-xs-12">
                        <button type="button" class="btn btn-simple" data-dismiss="modal">
                            <i class="icon-close" aria-hidden="true" ng-click="controller.limparModalColaborador()"></i>
                            Cancelar
                        </button>
                        <button type="button" class="btn btn-default btn-simple" ng-disabled="controller.desabilitarCamposColaborador2" ng-click="controller.adicionarEtapa()">
                            <i class="icon-check" aria-hidden="true"></i>
                            Adicionar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    $(function () {
        $('.currency').maskMoney();
    })

    $(document).ready(function () {
        $("input#telefonePrincipal").inputmask({
            mask: ["(99) 9999-9999", "(99) 99999-9999",],
            keepStatic: true
        });

        $("input#telefoneSecundario").inputmask({
            mask: ["(99) 9999-9999", "(99) 99999-9999",],
            keepStatic: true
        });

        $("input#telefone").inputmask({
            mask: ["(99) 9999-9999", "(99) 99999-9999",],
            keepStatic: true
        });
    });

</script>
